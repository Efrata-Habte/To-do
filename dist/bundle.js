(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e){localStorage.setItem("projects",JSON.stringify(e))}function o(){m.innerHTML="";for(let e in y){const t=document.createElement("li");t.classList.add("project"),e===f&&t.classList.add("active"),t.innerHTML=`\n            <span class="project-name">${e}</span>\n            <div class="project-buttons">\n                <button class="edit-project">✏️</button>\n                <button class="delete-project">✖</button>\n            </div>\n        `,m.appendChild(t)}t(y),n()}function n(){y[f]||(y[f]=[]),p.innerHTML="",y[f].forEach(e=>{const t=document.createElement("li");t.classList.add("todo",`${e.priority}-priority`),t.innerHTML=`\n            <div class="todo-content">\n                <span class="title">${e.title}</span>\n                <span class="due-date">${e.dueDate?`Due: ${e.dueDate}`:"No deadline"}</span>\n                <span class="description hidden">${e.description}</span>\n            </div>\n            <div class="todo-buttons">\n                <button class="edit">✏️</button>\n                <button class="delete">✖</button>\n            </div>\n        `,p.appendChild(t)})}e.d({},{Er:()=>f,K$:()=>m,dt:()=>y,eL:()=>j,zR:()=>p});const c=document.querySelector(".add-project"),r=document.querySelector(".add-todo"),i=document.querySelector("#add-project-btn"),d=document.querySelector("#cancel-project-btn"),s=document.querySelector(".project-form"),l=document.querySelector("#add-todo-btn"),a=document.querySelector("#cancel-todo-btn"),u=document.querySelector(".todo-form"),p=document.querySelector(".todo-list"),m=document.querySelector(".project-list");console.log("Script loaded ✅"),console.log(c,r,i,d);let y=function(){const e=localStorage.getItem("projects");return e?JSON.parse(e):{"Default Project":[]}}();0===Object.keys(y).length&&(y["Default Projects"]=[]);let f=Object.keys(y)[0]||"Default Project";function j(e){f=e}function v(){s.classList.add("hidden")}function L(){u.classList.add("hidden")}c.addEventListener("click",function(){s.classList.remove("hidden")}),i.addEventListener("click",e=>{e.preventDefault(),function(){const e=document.querySelector("#project-name").value.trim();e?y[e]?alert("Project already exists."):(y[e]=[],j(e),t(y),o(),document.querySelector("#project-name").value=""):alert("Project name cannot be empty.")}(),v()}),d.addEventListener("click",e=>{e.preventDefault(),document.querySelector("#project-name").value="",v()}),r.addEventListener("click",function(){u.classList.remove("hidden")}),a.addEventListener("click",L),l.addEventListener("click",e=>{e.preventDefault(),function(){const e=document.querySelector("#todo-title").value.trim(),o=document.querySelector("#todo-desc").value.trim(),c=document.querySelector("#todo-date").value,r=document.querySelector("#todo-priority").value;if(!e)return void alert("Todo title cannot be empty.");const i={title:e,description:o,dueDate:c,priority:r};y[f].push(i),t(y),n(),document.querySelector("#todo-title").value="",document.querySelector("#todo-desc").value="",document.querySelector("#todo-date").value="",document.querySelector("#todo-priority").selectedIndex=0}(),L()}),m.addEventListener("click",e=>{const n=e.target,c=n.closest("li.project");if(!c)return;const r=c.querySelector(".project-name").textContent;if(n.classList.contains("project-name")&&(f=r,o()),n.classList.contains("delete-project")&&confirm("Are you sure you want to delete this project?")&&(delete y[r],f=Object.keys(y)[0]||"Default Project",t(y),o()),n.classList.contains("edit-project")){const e=prompt("Edit Project Name:",r);e&&""!==e.trim()&&(y[e.trim()]=y[r],delete y[r],f=e.trim(),t(y),o())}}),p.addEventListener("click",e=>{const o=e.target,c=o.closest("li.todo");if(c){if((o.classList.contains("title")||o.classList.contains("due-date"))&&c.querySelector(".description").classList.toggle("show"),o.classList.contains("delete")){const e=Array.from(p.children).indexOf(c);y[f].splice(e,1),t(y),n()}if(o.classList.contains("edit")){const e=Array.from(p.children).indexOf(c),o=y[f][e],r=prompt("Edit Todo Title:",o.title),i=prompt("Edit Todo Description:",o.description),d=prompt("Edit Due Date (YYYY-MM-DD):",o.dueDate);r&&""!==r.trim()&&(o.title=r.trim()),null!==i&&(o.description=i.trim()),null!==d&&(o.dueDate=d.trim()),t(y),n()}}}),o(),n()})();